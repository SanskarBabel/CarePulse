@tailwind base;
@tailwind components;
@tailwind utilities;

/* Performance optimizations */
@layer base {
  /* Improve font loading performance */
  :root {
    font-display: swap;
  }

  /* Optimize focus indicators for accessibility */
  *:focus {
    outline: 2px solid #24AE7C;
    outline-offset: 2px;
  }

  /* Skip link for screen readers */
  .skip-link {
    position: absolute;
    top: -40px;
    left: 6px;
    background: #24AE7C;
    color: white;
    padding: 8px;
    text-decoration: none;
    border-radius: 4px;
    z-index: 1000;
  }

  .skip-link:focus {
    top: 6px;
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .text-dark-600 {
      color: #000000 !important;
    }
    .bg-dark-400 {
      background-color: #ffffff !important;
      border: 2px solid #000000 !important;
    }
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* Remove scrollbar but keep functionality */
  .remove-scrollbar::-webkit-scrollbar {
    width: 0px;
    height: 0px;
    border-radius: 0px;
  }

  .remove-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .remove-scrollbar::-webkit-scrollbar-thumb {
    background: transparent;
    border-radius: 0px;
  }

  .remove-scrollbar::-webkit-scrollbar-thumb:hover {
    background: transparent;
  }

  /* Improve image loading */
  img {
    height: auto;
    max-width: 100%;
  }

  /* Better button accessibility */
  button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  /* Loading states */
  .loading-skeleton {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: loading 1.5s infinite;
  }

  @keyframes loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }
}

@layer utilities {
  /* Accessibility utilities */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  /* Healthcare specific utilities */
  .medical-form-section {
    @apply bg-dark-300 rounded-lg p-6 mb-6 border border-dark-500;
  }

  .medical-form-title {
    @apply text-lg font-semibold text-white mb-4 pb-2 border-b border-dark-500;
  }

  .consent-checkbox {
    @apply flex items-start space-x-3 p-4 bg-dark-400 rounded-md border border-dark-500;
  }

  .error-message {
    @apply text-red-400 text-sm mt-1 flex items-center;
  }

  .success-message {
    @apply text-green-400 text-sm mt-1 flex items-center;
  }

  /* Performance utilities */
  .will-change-transform {
    will-change: transform;
  }

  .will-change-opacity {
    will-change: opacity;
  }

  /* Existing utilities with enhancements... */
  .sidebar {
    @apply remove-scrollbar w-full max-w-72 flex-col overflow-auto bg-black-800 px-7 py-10;
  }

  /* Enhanced form styles */
  .shad-input {
    @apply bg-dark-400 placeholder:text-dark-600 border-dark-500 h-11 focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-0 transition-all duration-200 !important;
  }

  .shad-input:focus {
    @apply border-green-500 !important;
  }

  /* Rest of existing styles... */
  .left-sidebar {
    @apply hidden lg:flex;
  }

  .right-sidebar {
    @apply hidden xl:flex;
  }

  .clip-text {
    @apply bg-clip-text text-transparent;
  }

  .bg-image {
    @apply bg-black-900 bg-light-rays bg-cover bg-no-repeat;
  }

  .header {
    @apply text-32-bold md:text-36-bold;
  }

  .sub-header {
    @apply text-18-bold md:text-24-bold;
  }

  .container {
    @apply relative flex-1 overflow-y-auto px-[5%];
  }

  .sub-container {
    @apply mx-auto flex size-full flex-col py-10;
  }

  .side-img {
    @apply hidden h-full object-cover md:block;
  }

  .copyright {
    @apply text-14-regular justify-items-end text-center text-dark-600 xl:text-left;
  }

  /* Continue with all your existing styles... */
}

/* Enhanced React DatePicker styles with better accessibility */
.react-datepicker,
.react-datepicker__time,
.react-datepicker__header,
.react-datepicker__current-month,
.react-datepicker__day-name,
.react-datepicker__day,
.react-datepicker-time__header {
  background-color: #1a1d21 !important;
  border-color: #363a3d !important;
  color: #abb8c4 !important;
}

.react-datepicker__day:focus,
.react-datepicker__day:hover {
  background-color: #24ae7c !important;
  outline: 2px solid #24ae7c !important;
  outline-offset: 2px !important;
}

/* Enhanced phone input styles */
.PhoneInputInput {
  outline: none;
  margin-left: 4px;
  background: #1a1d21;
  font-size: 14px;
  font-weight: 500;
  color: #abb8c4 !important;
}

.PhoneInputInput:focus {
  outline: 2px solid #24ae7c !important;
  outline-offset: 2px !important;
}

/* Print styles for medical forms */
@media print {
  .no-print {
    display: none !important;
  }
  
  body {
    background: white !important;
    color: black !important;
  }
  
  .medical-form-section {
    border: 1px solid #000 !important;
    background: white !important;
    color: black !important;
  }
}